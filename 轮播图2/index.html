<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>1111</title>
<link rel="stylesheet" type="text/css" href="index.css"/>
<script src="move.js" type="text/javascript"></script>
<script type="text/javascript">
    function getByClass(oParent,sClass) {
        var aMent = oParent.getElementsByTagName("*");
        var aEle = [];
        for (var i = 0; i < aMent.length; i++) {
            if (aMent[i].className == sClass) {
                aEle.push(aMent[i]);
            }
        }
        return aEle;
    };
    window.onload = function () {
        var oDiv = document.getElementById("playments");
        var oBtnleft = getByClass(oDiv, "btnleft")[0];
        var oBtnright = getByClass(oDiv, "btnright")[0];
        var oMarkleft = getByClass(oDiv, "markleft")[0];
        var oMarkright = getByClass(oDiv, "markright")[0];
        oBtnleft.onmouseover = oMarkleft.onmouseover = function () {
            move(oBtnleft, 'opacity', 100);
        };
        oBtnleft.onmouseout = oMarkleft.onmouseout = function () {
            move(oBtnleft, 'opacity', 0);
        };
        oBtnright.onmouseover = oMarkright.onmouseover = function () {
            move(oBtnright, 'opacity', 100);
        };
        oBtnright.onmouseout = oMarkright.onmouseout = function () {
            move(oBtnright, 'opacity', 0);
        };

        var oBigUl = getByClass(oDiv, "bigimgsul")[0];
        var aBigLi = oBigUl.getElementsByTagName("li");
        var oSmallDiv = getByClass(oDiv, "smallimgs")[0];
        var oSmallUl = oSmallDiv.getElementsByTagName("ul")[0];
        var aSmallLi = oSmallDiv.getElementsByTagName("li");
        var nowZIndex = 2;
        var now = 0;
        oSmallUl.style.width = (aSmallLi.length + aSmallLi.length / 8) * aSmallLi[0].offsetWidth + 'px';
        for (var i = 0; i < aSmallLi.length; i++) {
            aSmallLi[i].index = i;
            aSmallLi[i].onclick = function () {
                if (this.index == now) return;
                now = this.index;
                tab();
            };
            aSmallLi[i].onmouseover = function () {
                move(this, 'opacity', 100)
            };
            aSmallLi[i].onmouseout = function () {
                if (this.index != now) {
                    move(this, 'opacity', 40)
                };
            };
        };
        function tab() {
            aBigLi[now].style.zIndex = nowZIndex++;
            for (var j = 0; j < aSmallLi.length; j++) {
                move(aSmallLi[j], 'opacity', 40)
            };
            move(aSmallLi[now], 'opacity', 100);
            aBigLi[now].style.height = 0;
            move(aBigLi[now], 'height', 600);
            if (now == 0 || now == 1 || now == 2 || now == 3) {
                move(oSmallUl, 'left', 10);
            }

            //            else if (now == aSmallLi.length - 1 || now == aSmallLi.length - 2 || now == aSmallLi.length - 3 || now == aSmallLi.length - 4) {
            //                move(oSmallUl, 'left', -(now - 3) * (aSmallLi[0].offsetWidth + 10));
            //            }
            else if (now == aSmallLi.length - 1) {
                move(oSmallUl, 'left', -(now - 3) * (aSmallLi[0].offsetWidth + 10) + 10);
            }
            else if (now == aSmallLi.length - 2) {
                move(oSmallUl, 'left', -(now - 2) * (aSmallLi[0].offsetWidth + 10) + 10);
            }
            else if (now == aSmallLi.length - 3) {
                move(oSmallUl, 'left', -(now - 1) * (aSmallLi[0].offsetWidth + 10) + 10);
            }
            else {
                move(oSmallUl, 'left', -(now) * (aSmallLi[0].offsetWidth + 10) + 10);
            }
        };

        oBtnleft.onclick = function () {
            now--;
            if (now == -1) {
                now = aSmallLi.length - 1;
            };
            tab();
        };
        oBtnright.onclick = function () {
            now++;
            if (now == aSmallLi.length) {
                now = 0;
            };
            tab();
        };
            var timer = setInterval(oBtnright.onclick, 5000);
            oDiv.onmouseover = function () {
                clearInterval(timer);
            };
            oDiv.onmouseout = function () {
                timer = setInterval(oBtnright.onclick, 5000);
            };
    };
</script>
</head>
<body style="background:#666;">
<div id="playments">
    <ul class="bigimgsul" >
        <a class="btnleft"></a>
        <a class="btnright"></a>
        <div class="markleft"></div>
        <div class="markright"></div>
        <li style="z-index:1"><img src="images/1.jpg"  /></li>
        <li><img src="images/2.jpg" /></li>
        <li><img src="images/3.jpg" /></li>
        <li><img src="images/4.jpg" /></li>
        <li><img src="images/5.jpg" /></li>
        <li><img src="images/6.jpg" /></li>
        <li><img src="images/7.jpg" /></li>

        
    </ul>
    <div style="padding: 10px"></div>
    <div class="smallimgs" >
        <ul class="smallimgsul" >
            <li style="filter: 100; opacity: 1; "><img src="images/1.jpg" /></li>
            <li><img src="images/2.jpg" /></li>
            <li><img src="images/3.jpg" /></li>
            <li><img src="images/4.jpg" /></li>
            <li><img src="images/5.jpg" /></li>
            <li><img src="images/6.jpg" /></li>
            <li><img src="images/7.jpg" /></li>

            
        </ul>
    </div>
</div>
</body>
</html>
