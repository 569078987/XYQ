<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

</body>
<script type="text/javascript">

class MyPromise extends Promise {
	success(resolve, reject) {
		console.log(this)
		return this.then(resolve, reject)
	}

	failure(reject) {
		return this.catch(reject)
	}
}

let promise = new MyPromise(function(resolve, reject) {
	resolve(42);
});

promise.success(function(value) {
	console.log(value); // 42
}).failure(function(value) {
	console.log(value);
});



let p1 = new Promise(function(resolve, reject) {
	resolve(42);
});

let p2 = MyPromise.resolve(p1);
p2.success(function(value) {
	console.log(value)
})

console.log(p2 instanceof MyPromise)
</script>
</html>